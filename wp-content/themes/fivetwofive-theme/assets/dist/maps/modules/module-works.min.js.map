{"version":3,"sources":["modules/module-works.js"],"names":["$","filterWorks","hideItems","animateItems","workModule","search","term","module","tokens","filteredWorks","items","find","length","each","item","this","itemId","attr","itemTermLinks","itemTitle","text","toLowerCase","itemTermIds","push","parseInt","id","title","terms","filteredWorksElems","filter","token","includes","forEach","concat","css","removeClass","addClass","i","$item","setTimeout","fadeIn","init","hasForm","searchFilterInit","on","e","preventDefault","_this","val","trim","jQuery"],"mappings":"cAAE,SAAUA,GAGX,IAuDOC,EAmBAC,EAOAC,EAjFDC,GAuDCH,EAAc,SAAEI,EAAQC,EAAMC,GACnC,IA3CMC,EA2CFC,GA5CEC,GADkBH,EA6CYA,GA5CfI,KAAM,aACrBH,EAAS,GAEK,EAAfE,EAAME,QACVF,EAAMG,KAAM,WACX,IAAMC,EAAOd,EAAGe,MAEVC,EAASF,EAAKG,KAAM,MACpBC,EAAgBJ,EAAKH,KAAM,uBAC3BQ,EAAYL,EAAKH,KAAM,gBAAiBS,OAAOC,cAC/CC,EAAc,GAEQ,EAAvBJ,EAAcN,QAClBM,EAAcL,KAAM,WACnBS,EAAYC,KAAMC,SAAUxB,EAAGe,MAAOE,KAAM,WAAa,OAI3DT,EAAOe,KAAM,CACZE,GAAIT,EACJU,MAAOP,EACPQ,MAAOL,MAKHd,GAmBDoB,EAAqB,GAc3B,MAZK,KAAOvB,IACXI,EAAgBA,EAAcoB,OAAQ,SAAEC,GAAF,OAAaA,EAAMJ,MAAMK,SAAU1B,OAIzEI,EADI,IAAMH,EACMG,EAAcoB,OAAQ,SAAEC,GAAF,OAAaA,EAAMH,MAAMI,SAAUzB,KAG1EG,GAAcuB,QAAS,SAAElB,GACxBc,EAAmBL,KAAMvB,EAAC,IAAAiC,OAAOnB,EAAKW,QAGhCG,GAGF1B,EAAY,SAAEQ,GACnBA,EAAMG,KAAM,WACXb,EAAGe,MAAOmB,IAAK,UAAW,QAC1BlC,EAAGe,MAAOoB,YAAa,aAInBhC,EAAe,SAAEO,EAAOH,GAC7BG,EAAMsB,QAAS,SAAElB,GAChBd,EAAGc,GAAOsB,SAAU,YAGrB7B,EAAOI,KAAM,oBAAqBE,KAAM,SAAUwB,GACjD,IAAMC,EAAQtC,EAAGe,MACjBwB,WAAY,WACXD,EAAME,OAAQ,MACZ,IAAMH,MAIJ,CACNI,KA9FY,SAAElC,GACTmC,EAASnC,IACboC,EAAkBpC,MAIJ,SAAVmC,EAAYnC,GACjB,OAA2C,EAApCA,EAAOI,KAAM,aAAcC,OAiCV,SAAnB+B,EAAqBpC,GACPA,EAAOI,KAAM,aAErBiC,GAAI,SAAU,SAAUC,GAClCA,EAAEC,iBACF,IAAMC,EAAQ/C,EAAGe,MACXV,EAAS0C,EAAMpC,KAAM,wBAAyBqC,MAAMC,OAAO5B,cAC3Df,EAAOkB,SAAUuB,EAAMpC,KAAM,oCAAqCqC,OAExE9C,EAAWK,EAAOI,KAAM,cACxBR,EAAcF,EAAaI,EAAQC,EAAMC,GAAUA,KAgDtDP,EAAG,WACcA,EAAG,qBAEXa,KAAM,WACbT,EAAWqC,KAAMzC,EAAGe,WA1GrB,CA6GCmC","file":"../../js/modules/module-works.min.js","sourcesContent":["( function( $ ) {\n\t'use strict';\n\n\tconst workModule = ( () => {\n\t\tconst init = ( module ) => {\n\t\t\tif ( hasForm( module ) ) {\n\t\t\t\tsearchFilterInit( module );\n\t\t\t}\n\t\t};\n\n\t\tconst hasForm = ( module ) => {\n\t\t\treturn module.find( '.ftf-form' ).length > 0;\n\t\t};\n\n\t\tconst generateTokens = ( module ) => {\n\t\t\tconst items = module.find( '.ftf_work' );\n\t\t\tconst tokens = [];\n\n\t\t\tif ( items.length > 0 ) {\n\t\t\t\titems.each( function() {\n\t\t\t\t\tconst item = $( this );\n\n\t\t\t\t\tconst itemId = item.attr( 'id' );\n\t\t\t\t\tconst itemTermLinks = item.find( '.card__categories a' );\n\t\t\t\t\tconst itemTitle = item.find( '.card__title' ).text().toLowerCase();\n\t\t\t\t\tconst itemTermIds = [];\n\n\t\t\t\t\tif ( itemTermLinks.length > 0 ) {\n\t\t\t\t\t\titemTermLinks.each( function() {\n\t\t\t\t\t\t\titemTermIds.push( parseInt( $( this ).attr( 'data-id' ), 10 ) );\n\t\t\t\t\t\t} );\n\t\t\t\t\t}\n\n\t\t\t\t\ttokens.push( {\n\t\t\t\t\t\tid: itemId,\n\t\t\t\t\t\ttitle: itemTitle,\n\t\t\t\t\t\tterms: itemTermIds,\n\t\t\t\t\t} );\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\treturn tokens;\n\t\t};\n\n\t\tconst searchFilterInit = ( module ) => {\n\t\t\tconst searchForm = module.find( '.ftf-form' );\n\n\t\t\tsearchForm.on( 'submit', function( e ) {\n\t\t\t\te.preventDefault();\n\t\t\t\tconst _this = $( this );\n\t\t\t\tconst search = _this.find( 'input[type=\"search\"]' ).val().trim().toLowerCase();\n\t\t\t\tconst term = parseInt( _this.find( 'select[name=\"ftf-work-category\"]' ).val() );\n\n\t\t\t\thideItems( module.find( '.ftf_work' ) );\n\t\t\t\tanimateItems( filterWorks( search, term, module ), module );\n\t\t\t} );\n\t\t};\n\n\t\tconst filterWorks = ( search, term, module ) => {\n\t\t\tlet filteredWorks = generateTokens( module );\n\t\t\tconst filteredWorksElems = [];\n\n\t\t\tif ( '' !== search ) {\n\t\t\t\tfilteredWorks = filteredWorks.filter( ( token ) => token.title.includes( search ) );\n\t\t\t}\n\n\t\t\tif ( 0 !== term ) {\n\t\t\t\tfilteredWorks = filteredWorks.filter( ( token ) => token.terms.includes( term ) );\n\t\t\t}\n\n\t\t\tfilteredWorks.forEach( ( item ) => {\n\t\t\t\tfilteredWorksElems.push( $( `#${ item.id }` ) );\n\t\t\t} );\n\n\t\t\treturn filteredWorksElems;\n\t\t};\n\n\t\tconst hideItems = ( items ) => {\n\t\t\titems.each( function() {\n\t\t\t\t$( this ).css( 'display', 'none' );\n\t\t\t\t$( this ).removeClass( 'active' );\n\t\t\t} );\n\t\t};\n\n\t\tconst animateItems = ( items, module ) => {\n\t\t\titems.forEach( ( item ) => {\n\t\t\t\t$( item ).addClass( 'active' );\n\t\t\t} );\n\n\t\t\tmodule.find( '.ftf_work.active' ).each( function( i ) {\n\t\t\t\tconst $item = $( this );\n\t\t\t\tsetTimeout( function() {\n\t\t\t\t\t$item.fadeIn( 400 );\n\t\t\t\t}, 300 * i );\n\t\t\t} );\n\t\t};\n\n\t\treturn {\n\t\t\tinit,\n\t\t};\n\t} )();\n\n\t$( function() {\n\t\tconst modules = $( '.ftf-module-works' );\n\n\t\tmodules.each( function() {\n\t\t\tworkModule.init( $( this ) );\n\t\t} );\n\t} );\n}( jQuery ) );\n"]}